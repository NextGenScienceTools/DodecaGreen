
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Green Chemistry Assessment</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
  <style>
    :root {
      --primary: #388e3c;
      --primary-dark: #2e7d32;
      --primary-light: #a5d6a7;
      --surface: #ffffff;
      --background: #f4f6f8;
      --text: #212121;
      --radius: 12px;
      --shadow: 0 2px 8px rgba(0,0,0,0.1);
      --track-color: #999;
    }

    body {
      font-family: 'Segoe UI', Roboto, sans-serif;
      margin: 0;
      padding: 24px;
      background-color: var(--background);
      color: var(--text);
    }

    h2, h3 {
      color: var(--primary-dark);
    }

    #main-container {
  width: 100%;
  max-width: 1300px;
  margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      gap: 24px;
      align-items: flex-start;
      justify-content: center;
    }

    .card {
      width: 640px;
      background-color: var(--surface);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      box-sizing: border-box;
    }

    .slider-container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px;
    }

    .slider-label {
      flex: 1;
      font-size: 15px;
      word-break: break-word;
      white-space: normal;
    }

    .slider-label a {
      color: var(--primary-dark);
      text-decoration: none;
    }

    .slider-label a:hover {
      text-decoration: underline;
    }

    .slider {
      flex: 2;
      margin: 0 12px;
      height: 4px;
      background-color: var(--track-color);
      border-radius: 5px;
      appearance: none;
      outline: none;
    }

    .slider::-webkit-slider-thumb {
      appearance: none;
      width: 18px;
      height: 18px;
      background-color: var(--thumb-color, #2e7d32);
      border: 2px solid #666;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 1px 4px rgba(0,0,0,0.3);
    }

    .slider::-moz-range-thumb {
      width: 18px;
      height: 18px;
      background-color: var(--thumb-color, #2e7d32);
      border: 2px solid #666;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 1px 4px rgba(0,0,0,0.3);
    }

    .slider-value {
      width: 30px;
      text-align: center;
      font-weight: bold;
    }

    #export-buttons {
      text-align: center;
      margin: 20px 0;
    }

    button {
      margin: 6px;
      padding: 10px 20px;
      background-color: var(--primary);
      color: white;
      border: none;
      border-radius: var(--radius);
      cursor: pointer;
      font-size: 14px;
      transition: background 0.3s ease;
      box-shadow: var(--shadow);
    }

    button:hover {
      background-color: var(--primary-dark);
    }

    #rubric {
      margin-top: 30px;
      background: var(--surface);
      padding: 20px;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 13px;
    }

    th, td {
      border: 1px solid #ccc;
      padding: 10px;
      text-align: center;
    }

    th {
      background-color: var(--primary-light);
      color: var(--text);
    }

    tr:nth-child(even) {
      background-color: #f9f9f9;
    }

    tr:hover {
      background-color: #eef5ee;
    }
  </style>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-2F39Q66H6M"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-2F39Q66H6M');
</script>	
	
<body>

<div style="background-color: #fff3cd; color: #856404; padding: 12px 16px; border: 1px solid #ffeeba; border-radius: 8px; margin-bottom: 20px; font-family: 'Segoe UI', Roboto, sans-serif;">
    <strong>Disclaimer:</strong> DodecaGreen is currently in Alpha mode and the content and metrics linked within are being revised and updated. Please use this tool with care.
</div>
	
<h2>DodecaGreen</h2>
<div id="main-container">

  

  <div id="intro" class="card" style="width: 100%;">
    <h2>A Visual Scoring Tool for the 12 Principles of Green Chemistryn</h2>
    <p><strong>Developer:</strong> Benji Fenech-Salerno (all rights reserved). This project is run by Dr Benji Fenech-Salerno and Dr Rebecca L. Jones and is currently in Alpha mode.</p>
    <p>This interactive toolkit helps you evaluate chemical processes against the 12 Principles of Green Chemistry. You’ll use intuitive sliders and a real-time radar chart to visually assess your process. The tool provides immediate feedback and offers export options for documentation and reporting.</p>
  </div>

  <div id="sliders" class="card" style="flex: 1 1 49%; min-width: 300px;">
  <h3 style="text-align:center;">Score and Visualise Your Green Chemistry Process</h3></div>
  <div id="chartDiv" class="card" style="flex: 1 1 49%; min-width: 300px;"></div>
</div>

<div id="export-buttons">
  <button onclick="downloadSVG()">Download SVG</button>
  <button onclick="downloadPDF()">Download PDF</button>
</div>

<div id="rubric" class="card" style="width: 100%; max-width: 1300px; margin: 0 auto; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;">
  <h3 style="margin: 16px 0;">Practical Green Chemistry Assessment Rubric</h3>
  <p style="margin: 0 0 12px 0; color: #444; font-size: 0.95rem;">
    Each level is anchored to measurable criteria (e.g., % thresholds, GHS categories, OECD tests) to improve inter-rater reliability.
  </p>
  <table style="width:100%; border-collapse: collapse; font-size: 0.95rem;">
    <thead>
      <tr>
        <th style="text-align:left; border-bottom: 2px solid #ddd; padding: 8px;">Principle</th>
        <th style="text-align:left; border-bottom: 2px solid #ddd; padding: 8px;">0 (Non-compliant)</th>
        <th style="text-align:left; border-bottom: 2px solid #ddd; padding: 8px;">1 (Poor)</th>
        <th style="text-align:left; border-bottom: 2px solid #ddd; padding: 8px;">2 (Moderate)</th>
        <th style="text-align:left; border-bottom: 2px solid #ddd; padding: 8px;">3 (Good)</th>
        <th style="text-align:left; border-bottom: 2px solid #ddd; padding: 8px;">4 (Excellent)</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">1. Prevention</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">No prevention; waste &gt;80% of total mass (E-factor &gt;4)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Basic minimisation; waste 60–80%</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Moderate prevention; waste 40–59%</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Strong prevention; waste 20–39%</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Near-zero waste; &lt;20% waste or closed-loop reuse</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">2. Atom Economy</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">&lt;30% AE</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">30–50% AE</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">51–70% AE</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">71–90% AE</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">&gt;90% AE</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">3. Less Hazardous Syntheses (reagents)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Includes GHS Category 1–2 acute hazards (e.g., H300/310/330)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Includes GHS Category 3 acute hazards</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Only GHS Category 4 (“harmful”) hazards present</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Only Category 5/irritants; no Cat. 1–4 acute hazards</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">No hazardous classification under GHS for reagents used</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">4. Designing Safer Chemicals (product)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Product has GHS Cat. 1–2 acute/chronic hazards or SVHC profile</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Product Cat. 3 hazards or notable chronic endpoints (e.g., STOT Cat. 2)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Low acute toxicity (Cat. 4–5); limited chronic concerns with controls</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">No acute GHS hazards under intended use; benign by design claims supported</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Verified non-toxic/non-sensitising with OECD guideline data; no SVHC traits</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">5. Safer Solvents &amp; Auxiliaries</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Uses red-list/“not recommended” solvents (e.g., CH<sub>2</sub>Cl<sub>2</sub>, benzene, NMP)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Uses amber/caution solvents; significant hazards remain</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Uses safer options (e.g., EtOH, EtOAc, water) with some trade-offs</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">All solvents from green/“recommended” lists (e.g., CHEM21/Pfizer)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Solvent-free process or no auxiliaries required</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">6. Energy Efficiency</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">T &gt;150&nbsp;°C or &lt; −50&nbsp;°C; high pressure/energy intensive</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">100–150&nbsp;°C or cryogenic steps; significant energy demand</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">50–100&nbsp;°C; moderate energy input; standard pressure</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">25–50&nbsp;°C; mild energy use; no extremes</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Ambient T/P; energy-minimised or energy-integrated (e.g., heat recovery)</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">7. Renewable Feedstocks</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">0% renewable; entirely fossil-based carbon/feed</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">&lt;25% renewable by mass or carbon content</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">25–49% renewable</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">50–74% renewable</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">≥75% renewable (or 100% where feasible)</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">8. Reduce Derivatives</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">&gt;3 protection/derivatisation steps per product molecule</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">3 steps</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">2 steps</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">1 step</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">0 steps</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">9. Catalysis</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">No catalysis and no catalytic alternative considered; brute-force/stoichiometric by design</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Stoichiometric reagent required (reagent consumed; ≥1.0&nbsp;eq). Examples: KMnO<sub>4</sub>, NaBH<sub>4</sub>, Grignard</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Catalyst used but <em>inefficient</em>: loading &gt;10&nbsp;mol% and/or selectivity &lt;90%; poor recyclability</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Efficient catalysis: loading ≤5&nbsp;mol%, selectivity ≥90%, acceptable TON/TOF or ≥3 recycles</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Highly selective/green catalysis: selectivity ≥95% <em>and</em> low loading (≤1–2&nbsp;mol%) with high TON/TOF; biocatalyst, organocatalyst, or recyclable heterogeneous catalyst (≥5 recycles)</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">10. Design for Degradation</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Persistent (env. half-life &gt;6 months) and/or PBT/vPvB profile; harmful degradation products known</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Limited degradation (3–6 months half-life) or potential bioaccumulation concerns</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Moderate degradation (1–3 months) with no known toxic degradants under normal conditions</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Mostly degradable (&lt;1 month) or passes screening tests; no hazardous degradants identified</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Readily biodegradable (OECD 301/302) and no hazardous/by-product concerns across likely pathways</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">11. Real-time Analysis for Pollution Prevention</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">No monitoring; batch end-point only</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Occasional lab/offline checks (per batch)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Periodic at-line monitoring (per stage)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Frequent at-/on-line monitoring (key CPPs tracked)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Continuous in-line/online analytics with control feedback (PAT)</td>
      </tr>
      <tr>
        <td style="padding: 8px; border-top: 1px solid #eee;">12. Inherently Safer Chemistry for Accident Prevention</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">High-hazard operations (explosive, pyrophoric, highly volatile toxics) without feasible substitution</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Hazards present requiring heavy engineered/administrative controls to manage risk</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Reduced hazards via substitution/dilution/intensification; residual risks remain manageable</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Low-risk chemistry; minor hazards easily contained; inherent inventory minimised (e.g., flow)</td>
        <td style="padding: 8px; border-top: 1px solid #eee;">Intrinsically safe by design (benign materials/conditions; minimal hazardous energy; inherently stable)</td>
      </tr>
    </tbody>
  </table>
  <p style="margin-top: 10px; color:#666; font-size: 0.9rem;">
    Notes: AE = atom economy. GHS = Globally Harmonized System. OECD 301/302 = ready/inherent biodegradability tests. PBT/vPvB = persistent, bioaccumulative, toxic / very persistent, very bioaccumulative. TON/TOF = turnover number/frequency.
  </p>


<div id="rubric" class="card" style="width: 100%; max-width: 1300px; margin: 0 auto; font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;">
  <p style="margin: 0;">
    <strong>This tool is currently under development.</strong> The underlying mechanics were designed by Dr Benji Fenech-Salerno. The conceptual design and its alignment with relevant literature were developed collaboratively by Dr Rebecca L. Jones, chemistry undergraduate student Sham Alkateb, and Dr Benji Fenech-Salerno.
  </p>
</div>


	
</div>


<script>

function wrapLabel(text, maxLen = 18) {
  const words = text.split(" ");
  let lines = [], current = "";

  for (const word of words) {
    if ((current + word).length > maxLen) {
      lines.push(current.trim());
      current = word + " ";
    } else {
      current += word + " ";
    }
  }

  if (current) lines.push(current.trim());
  return lines.join("<br>");
}

const principles = [
  "Prevention ⧉", "Atom Economy ⧉", "Less Hazardous Chemical Syntheses ⧉",
  "Designing Safer Chemical ⧉s", "Safer Solvents and Auxiliaries ⧉",
  "Energy Efficiency ⧉", "Use of Renewable Feedstocks ⧉", "Reduce Derivatives ⧉",
  "Use of Catalysis ⧉", "Design for Degradation ⧉",
  "Real-time Analysis for Pollution Prevention ⧉", "Inherently Safer Chemistry for Accident Prevention ⧉"
];

const links = [
  "01_gc_prevention.html", "02_gc_atom_economy.html", "03_gc_less_hazardous_synthesis.html",
  "04_gc_safer_chemical_design.html", "05_gc_safer_solvents_auxiliaries.html",
  "06_gc_energy_efficiency.html", "07_gc_renewable_feedstocks.html", "08_gc_reduce_derivatives.html",
  "09_gc_catalysis_green_chem.html", "10_gc_design_for_degradation.html",
  "11_gc_real_time_analysis.html", "12_gc_inherently_safer_chemistry.html"
];

const slidersDiv = document.getElementById("sliders");
const scores = Array(principles.length).fill(0);

function scoreToColor(score) {
  const colors = ['#d73027', '#fc8d59', '#fee08b', '#d9ef8b', '#1a9850'];
  return colors[Math.min(Math.round(score), colors.length - 1)];
}

principles.forEach((principle, i) => {
  const container = document.createElement("div");
  container.className = "slider-container";

  const label = document.createElement("label");
  label.className = "slider-label";
  label.innerHTML = `<a href="${links[i]}" target="_blank">${i + 1}. ${principle}</a>`;
  container.appendChild(label);

  const slider = document.createElement("input");
  slider.type = "range";
  slider.min = 0;
  slider.max = 4;
  slider.value = 0;
  slider.className = "slider";

  const valueDisplay = document.createElement("span");
  valueDisplay.className = "slider-value";
  valueDisplay.innerText = "0";

  slider.oninput = function () {
    const val = parseInt(this.value);
    scores[i] = val;
    valueDisplay.innerText = val;
    const thumbColor = scoreToColor(val);
    this.style.setProperty('--thumb-color', thumbColor);
    this.style.backgroundColor = '#999';
    updateChart();
  };

  slider.style.setProperty('--thumb-color', scoreToColor(0));
  slider.style.backgroundColor = '#999';
  container.appendChild(slider);
  container.appendChild(valueDisplay);
  slidersDiv.appendChild(container);
});

function totalToColor(total, max = 48) {
  const ratio = total / max;
  const green = Math.round(255 * ratio);
  const red = Math.round(255 * (1 - ratio));
  return `rgba(${red},${green},0,0.3)`;
}

function updateChart() {
  const total = scores.reduce((a, b) => a + b, 0);
  const avg = total / scores.length;
  const fillColor = totalToColor(total);

  const r = [...scores, scores[0]];
  const wrappedPrinciples = ["1. Prevention", "2. Atom<br>Economy", "3. Less Hazardous<br>Chemical Syntheses", "4. Designing Safer<br>Chemicals", "5. Safer Solvents<br>and Auxiliaries", "6. Energy<br>Efficiency", "7. Use of Renewable<br>Feedstocks", "8. Reduce<br>Derivatives", "9. Use of<br>Catalysis", "10. Design for<br>Degradation", "11. Real-time Analysis<br>for Pollution Prevention", "12. Inherently Safer<br>Chemistry for Accident Prevention"];

const theta = [...wrappedPrinciples, wrappedPrinciples[0]];

  const data = [
    {
      type: 'scatterpolar',
      r: Array(scores.length + 1).fill(4),
      theta: theta,
      mode: 'lines',
      line: { dash: 'dash', color: 'gray', width: 2 },
      hoverinfo: 'skip',
      showlegend: false
    },
    {
      type: 'scatterpolar',
      r: r,
      theta: theta,
      fill: 'toself',
      name: 'Assessment',
      fillcolor: fillColor,
      line: { color: 'black' },
      hoverinfo: 'skip',
      showlegend: false
    },
    ...scores.map((score, i) => ({
      type: 'scatterpolar',
      r: [score],
      theta: [wrappedPrinciples[i]],
      mode: 'markers',
      marker: { size: 12, color: scoreToColor(score) },
      hovertemplate: `${principles[i]}<br>Score: ${score}/4<extra></extra>`,
      showlegend: false
    }))
  ];

  Plotly.newPlot("chartDiv", data, {
    width: 600,
    height: 570,
    polar: {
      domain: { x: [0.1, 0.9], y: [0.1, 0.9] },
      radialaxis: {
        visible: true,
        range: [0, 4],
	dtick: 1,
        tickfont: { size: 12 }
      },
      angularaxis: {
        direction: "clockwise",
        tickfont: { size: 11 },
        tickangle: 0,
        tickmode: "array",
        tickvals: [...Array(wrappedPrinciples.length).keys()],
        ticktext: wrappedPrinciples
      }
    },
    title: {
      text: `Total: ${total}/48, Average: ${avg.toFixed(1)}/4`,
      font: { size: 12 },
      xref: 'paper',
      x: 0.5
    },
    margin: { t: 40, b: 40, l: 80, r: 80 },
    autosize: false,
    paper_bgcolor: 'rgba(0,0,0,0)',
    plot_bgcolor: 'rgba(0,0,0,0)',
    cliponaxis: false
  }, { responsive: true });
}

function downloadSVG() {
  Plotly.downloadImage(chartDiv, {
    format: 'svg',
    filename: 'green_chemistry_assessment',
    width: 1000,
    height: 800
  });
}

async function downloadPDF() {
  const { jsPDF } = window.jspdf;
  const pdf = new jsPDF({ orientation: 'landscape' });

  const sections = [
    { id: 'intro', title: 'Introduction' },
    { id: 'sliders', title: 'Selected Conditions' },
    { id: 'chartDiv', title: 'Radar Plot' },
    { id: 'rubric', title: 'Assessment Rubric' }
  ];

  const totalPages = sections.length;
  const footerLeft = "Green Chemistry Assessment Tool | Developer: Benji Fenech-Salerno";

  for (let i = 0; i < sections.length; i++) {
    const el = document.getElementById(sections[i].id);

    // Temporarily remove shadows and round corners
    const originalStyle = el.getAttribute("style") || "";
    el.style.boxShadow = 'none';
    el.style.borderRadius = '0px';
    el.style.backgroundColor = '#ffffff';

    const canvas = await html2canvas(el, { backgroundColor: '#ffffff' });
    const imgData = canvas.toDataURL('image/png');
    const imgProps = pdf.getImageProperties(imgData);
    const pdfWidth = pdf.internal.pageSize.getWidth();
    const pdfHeight = pdf.internal.pageSize.getHeight();

    const maxImageHeight = pdfHeight - 50; // leave room for footer and title
    const imgWidth = pdfWidth - 20;
    const imgHeight = (imgProps.height * imgWidth) / imgProps.width;
    const finalHeight = Math.min(imgHeight, maxImageHeight);
    const finalWidth = (imgProps.width * finalHeight) / imgProps.height;

    if (i > 0) pdf.addPage();
    pdf.setFontSize(16);
    pdf.text(sections[i].title, 10, 20);
    pdf.addImage(imgData, 'PNG', 10, 30, finalWidth, finalHeight);

    // Footer
    pdf.setFontSize(10);
    pdf.setTextColor(100);
    pdf.text(footerLeft, 10, pdfHeight - 10); // bottom-left
    pdf.text(`Page ${i + 1} of ${totalPages}`, pdfWidth - 10, pdfHeight - 10, { align: 'right' }); // bottom-right

    // Restore original styles
    el.setAttribute("style", originalStyle);
  }

  pdf.save('green_chemistry_assessment.pdf');
}


updateChart();
</script>
</body>
</html>
